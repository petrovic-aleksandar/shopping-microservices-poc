#!/usr/bin/env sh
SCRIPT_DIR="$(CDPATH= cd -- "$(dirname -- "$0")" && pwd)"

if command -v mvn >/dev/null 2>&1; then
  mvn "$@"
  exit $?
fi

if ! command -v docker >/dev/null 2>&1; then
  echo "Neither Maven nor Docker is installed. Install one of them and retry."
  exit 1
fi

docker run --rm -v "${SCRIPT_DIR}":/workspace -w /workspace maven:3.9.9-eclipse-temurin-17 mvn "$@"
